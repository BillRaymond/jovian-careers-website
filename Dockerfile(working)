FROM ubuntu:latest

# These settings prevent a timezone prompt when Python installs
ENV TZ=US/Pacific \
    DEBIAN_FRONTEND=noninteractive

# Update the apt repo
RUN apt update

# Install Python (software-properties-common), Git, and Python utilities
RUN apt install -y \
    software-properties-common \
    python3-pip \
    git-all

RUN add-apt-repository ppa:deadsnakes/ppa

RUN apt update
RUN apt install -y python3.11

# RUN apt install -y \
#     software-properties-common \
#     python3-pip \
#     build-essential \
#     libssl-dev \
#     libffi-dev \
#     python3-dev \
#     git-all

# Upgrade packages to the latest version
RUN apt -y upgrade

# Update to the latest version of Python3
# RUN apt install -y python3.latest

# Update PIP (Python's package manager)
RUN python3 -m pip install --upgrade pip

# Set Python 3.latest as the default Python interpreter
RUN update-alternatives --install /usr/bin/python python /usr/bin/python3.11 1
RUN update-alternatives --set python /usr/bin/python3.11

CMD ["python3", "-V"]

# Configure git
RUN git config --global user.name "Bill.Raymond" &&\
    git config --global user.email bill.raymond@cambermast.com &&\
    git config --global init.defaultBranch main

